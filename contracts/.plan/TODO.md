Plan: implement commit-reveal contract
