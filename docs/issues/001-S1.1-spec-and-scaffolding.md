---
id: S1.1
title: "Spec & scaffolding (Anchor/Solana)"
epic: "E1 - Smart Contract Core"
sprint: "Sprint 1"
estimate: 3
labels: ["contract", "sprint-1"]
assignees: ["be1"]
dependencies: []
status: "open"
---

## Solana migration (Anchor)

- Tooling: Anchor workspace thay cho Foundry/Hardhat; dùng `@coral-xyz/anchor` (Mocha + TS) cho tests.
- Cluster: cấu hình `devnet`/`testnet` trong `Anchor.toml` và sử dụng `solana config set --url ...` trong scripts.
- IDL: `anchor build` sinh IDL dưới `target/idl/*.json` để FE dùng và publish on-chain khi deploy.
- Scripts: dùng `scripts/solana-deploy.sh` để deploy và publish IDL; cập nhật `frontend/.env` với `VITE_SOLANA_CLUSTER` và `VITE_PROGRAM_ID`.

## Context
Khởi tạo project contracts, chọn toolchain (Foundry khuyến nghị). Cấu hình mạng testnet và dependencies (OpenZeppelin).

## Scope
- Tạo project skeleton
- Cấu hình network (Base/Polygon testnet)
- Thêm OpenZeppelin

## Acceptance Criteria
- Repo contracts khởi tạo OK
- Build và test runner hoạt động
- Có hướng dẫn ngắn trong `contracts/README.md`

## Tasks
- Init Foundry/Hardhat
- Cài OZ
- Thêm mẫu cấu hình network testnet

## Out of Scope
- Chưa implement business logic contract

## Notes
- Đã thiết lập Foundry scaffold với `foundry.toml`, placeholder contract, test, và script deploy.
- Cần cài `forge` (Foundry) cục bộ để chạy `forge test` vì môi trường CI hiện tại chưa có sẵn.
