---
id: S1.3
title: "Unit tests: core commit/reveal/settle/claim"
epic: "E1 - Smart Contract Core"
sprint: "Sprint 1"
estimate: 8
labels: ["contract", "tests", "sprint-1"]
assignees: ["be2"]
dependencies: ["S1.2"]
status: "open"
---

## Context
Viết test bao phủ happy/edge cho core logic.

## Scope
- commit stake sai/đúng, double-commit
- reveal sớm/trễ, bad salt/hash, double-reveal
- tie refund, fee accuracy
- claim winner only, double-claim

## Acceptance Criteria
- Tỷ lệ pass 100%
- Bao phủ tối thiểu các case nêu trên

## Tasks
- Viết fixture vòng chơi
- Test commit/reveal/settle/claim
- Kiểm tra fee & payout
