# ========================================
# ChocoChoco Indexer Environment Config
# ========================================

# ┌─────────────────────────────────────┐
# │  SOLANA CONFIGURATION               │
# └─────────────────────────────────────┘

# Solana cluster
CLUSTER=devnet

# Program ID to index
PROGRAM_ID=J5GgxY8zobKvjJovnENncHDLWVQ2gBPH2skhTKL8JuGz

# WebSocket RPC URL (for connection.onLogs)
RPC_WS_URL=wss://api.devnet.solana.com

# HTTP RPC URL (for backfill and transaction fetching)
RPC_HTTP_URL=https://api.devnet.solana.com

# Optional: Helius API key for enhanced indexing and webhooks
# If set, uses Helius Streams instead of connection.onLogs
# Get API key: https://helius.dev/
HELIUS_API_KEY=

# ┌─────────────────────────────────────┐
# │  DATABASE CONFIGURATION             │
# └─────────────────────────────────────┘

# PostgreSQL connection string
# Format: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/chocochoco_indexer

# Or use SQLite for local development (uncomment)
# DATABASE_URL=sqlite:./dev.db

# ┌─────────────────────────────────────┐
# │  API SERVER CONFIGURATION           │
# └─────────────────────────────────────┘

# Port for REST API server
PORT=3001

# Allowed CORS origins (comma-separated)
CORS_ORIGINS=http://localhost:5173,http://localhost:3000

# ┌─────────────────────────────────────┐
# │  INDEXER BEHAVIOR                   │
# └─────────────────────────────────────┘

# Number of slots to backfill on startup
BACKFILL_SLOTS=1000

# Enable auto-backfill on startup (true/false)
AUTO_BACKFILL=true

# Log level: trace, debug, info, warn, error
LOG_LEVEL=info

# Retry configuration
MAX_RETRIES=5
RETRY_DELAY_MS=1000

# ┌─────────────────────────────────────┐
# │  HELIUS WEBHOOK (OPTIONAL)          │
# └─────────────────────────────────────┘

# Webhook endpoint for receiving Helius events
# If using Helius Streams, configure this URL in Helius Dashboard
WEBHOOK_PATH=/webhook/helius

# Webhook secret for verifying Helius requests
HELIUS_WEBHOOK_SECRET=
